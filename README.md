# team2-app
医者ー患者間でのSNSアプリケーション「GlucoConnect」のリポジトリです。

## メンバー
|名前|役割|開発担当|
|:-:|:-:|:-:|
|芝　沙都希|アイデアの検証・整理|バックエンド|
|白石　鷹也|アイデア出し・全体進行|フルスタック|
|TAKAOKA OKAZAKI MARIANA MIE|サポート|フロントエンド|
|原田　裕大|サポート|バックエンド|

## DB設計
以下はテーブル一覧。DB名はglucoconnect

### Users（ユーザー）テーブル
| カラム名       | データ型         | 説明                                     |
| -------------- | ---------------- | ---------------------------------------- |
| `user_id`      | `UUID`           | ユーザーを一意に識別するためのID (Primary Key) |
| `username`     | `VARCHAR(255)`   | ユーザー名                               |
| `password`     | `VARCHAR(255)`   | ハッシュ化されたパスワード               |
| `role`         | `VARCHAR(50)`    | ユーザーの役割（`patient` または `doctor`）|
| `created_at`   | `TIMESTAMP`      | アカウント作成日時                       |

### Hba1c_Records（HbA1c記録）テーブル
| カラム名       | データ型         | 説明                                     |
| -------------- | ---------------- | ---------------------------------------- |
| `record_id`    | `UUID`           | HbA1c記録を一意に識別するためのID (Primary Key) |
| `user_id`      | `UUID`           | 記録を持つ患者のユーザーID（外部キー: Users）  |
| `hba1c_value`  | `FLOAT`          | 測定されたHbA1cの値                      |
| `recorded_at`  | `TIMESTAMP`      | HbA1cが測定された日時                     |

### Posts（投稿）テーブル
| カラム名             | データ型         | 説明                                           |
| -------------------- | ---------------- | ---------------------------------------------- |
| `post_id`            | `UUID`           | 投稿を一意に識別するためのID (Primary Key)     |
| `user_id`            | `UUID`           | 投稿者のユーザーID（外部キー: Users）          |
| `post_type`          | `VARCHAR(50)`    | 投稿の種類（`診察記録` または `薬の相性記録`）|
| `content`            | `TEXT`           | 診察記録やメモなどの投稿内容                   |
| `compatibility_score`| `INT`            | 薬の相性値（`薬の相性記録` の場合のみ設定）    |
| `mealpicture`        | `BIN`            | 食事記録の画像。(`食事記録`の場合のみ設定)     |
| `created_at`         | `TIMESTAMP`      | 投稿日時                                       |

### Relationships（関係）テーブル
| カラム名               | データ型         | 説明                                             |
| ---------------------- | ---------------- | ------------------------------------------------ |
| `doctor_id`            | `UUID`           | 医師のユーザーID（外部キー: Users）             |
| `patient_id`           | `UUID`           | 患者のユーザーID（外部キー: Users）             |
| `bookmarked`           | `BOOLEAN`        | 医師のマイリスト機能                           |

### Followers（フォロワー）テーブル
| カラム名               | データ型         | 説明                                             |
| ---------------------- | ---------------- | ------------------------------------------------ |
| `follower_user_id`     | `UUID`           | フォロワー（患者）のユーザーID（外部キー: Users）|
| `followed_doctor_id`   | `UUID`           | フォローされている医師のユーザーID（外部キー: Users）|

## テーブル間の関係

- **Users** と **Posts** は 1対多の関係。一人のユーザーは複数の投稿を持つ。
- **Users** と **Relationships** は 1対多の関係。一人の医師は複数の患者との関係を持つ。
- **Users** と **Followers** は 1対多の関係。一人の患者は複数の医師をフォローすることが可能。
